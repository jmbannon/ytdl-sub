presets:

  ###############################################################################
  # Single video as an episode
  jellyfin-episode:
    output_options:
      output_directory: "{tv_shows_directory}/{tv_show_name_sanitized}"
      file_name: "{episode_file_path}.{ext}"
      thumbnail_name: "{episode_file_path}-thumb.jpg"
      info_json_name: "{episode_file_path}.{info_json_ext}"
      maintain_download_archive: True

    nfo_tags:
      nfo_name: "{episode_file_path}.nfo"
      nfo_root: "episodedetails"
      kodi_safe: True
      tags:
        season: "{season_number}"
        episode: "{episode_number}"
        title: "{episode_title}"
        year: "{episode_year}"
        plot: "{episode_plot}"
        aired: "{episode_air_date_standardized}"

    chapters:
      embed_chapters: True

    overrides:
#     MUST DEFINE:
#     tv_shows_directory
#     tv_show_name
#     season_number
#     season_number_padded
#     episode_number
#     episode_number_padded
      season_title: "{season_number_padded}"
      episode_title: "{upload_date_standardized} - {title}"
      episode_file_name: "s{season_number_padded}.e{episode_number_padded} - {uid_sanitized}"
      episode_file_path: "Season {season_number_padded}/{episode_file_name}"


  ###############################################################################
  # Create a TV show from a youtube playlist or channel
  yt_show:
    preset: "yt_episode"
    output_directory_nfo_tags:
      nfo_name: "tvshow.nfo"
      nfo_root: "tvshow"
      kodi_safe: True
      tags:
        title: "{show_name}"
        namedseason:
          - tag: "{season_name}"
            attributes:
              number: "{season}"
        genre: "{genre}"

  ###############################################################################
  # Entire channel as a TV show
  yt_channel:
    preset: "yt_show"
    youtube:
      download_strategy: "channel"
      channel_avatar_path: "poster.jpg"
      channel_banner_path: "fanart.jpg"

  ###############################################################################
  # Playlist as a TV show
  yt_playlist:
    preset: "yt_show"
    youtube:
      download_strategy: "playlist"


  ###############################################################################
  # Entire channel as a TV show

  ###############################################################################
  # Only store recent videos in the last {time_to_live} timespan.
  # Defaults to 2 months
  only_recent:
    ytdl_options:
      break_on_reject: True
    output_options:
      keep_files_after: "today-{time_to_live}"
    date_range:
      after: "today-{time_to_live}"
    overrides:
      time_to_live: "2months"

  ###############################################################################
  # For channels/playlists/etc with known sponsor content.
  # Wait 2 days after upload for sponsorblock submissions, then cut it out.
  sponsor_block:
    date_range:
      before: "today-2days"

    chapters:
      sponsorblock_categories:
        - "outro"
        - "selfpromo"
        - "preview"
        - "interaction"
        - "sponsor"
        - "music_offtopic"
        - "intro"
      remove_sponsorblock_categories: "all"
      force_key_frames: False

  ###############################################################################
  # Genres
  genre_music:
    overrides:
      genre: "Music"
  genre_news:
    overrides:
      genre: "News"
  genre_finance:
    overrides:
      genre: "Finance"
  genre_podcast:
    overrides:
      genre: "Podcast"
  genre_cooking:
    overrides:
      genre: "Cooking"
  genre_gaming:
    overrides:
      genre: "Gaming"

  ###############################################################################
  # Other
  include_description:
    nfo_tags:
      tags:
        plot: "{webpage_url}\n\n{description}"

  ###############################################################################
  # Other
  yt_collection:
    preset: "yt_show"
    generic:
      download_strategy: "collection"
      urls:
        - url: "{channel_url}"
          variables:
            url_season_name: "{channel_season_name}"
            url_season_index: "{channel_season_index}"
          playlist_thumbnails:
            - name: "season{channel_season_index}-poster.jpg"
              uid: "latest_entry"
            - name: "poster.jpg"
              uid: "avatar_uncropped"
            - name: "fanart.jpg"
              uid: "banner_uncropped"

    output_directory_nfo_tags:
      nfo_name: "tvshow.nfo"
      nfo_root: "tvshow"
      kodi_safe: True
      tags:
        namedseason:
          - tag: "{channel_season_name}"
            attributes:
              number: "{channel_season_index}"

    overrides:
      # Need to fill out channel_url
      channel_season_name: "Videos"
      channel_season_index: "1"
      season: "{url_season_index}"
      season_name: "{url_season_name}"

  yt_collection_p1:
    preset: "yt_collection"
    generic:
      download_strategy: "collection"
      urls:
        - url: "{playlist1_url}"
          variables:
            url_season_name: "{playlist1_season_name}"
            url_season_index: "{playlist1_season_index}"
          playlist_thumbnails:
            - name: "season{playlist1_season_index}-poster.jpg"
              uid: "latest_entry"

    output_directory_nfo_tags:
      tags:
        namedseason:
          - tag: "{playlist1_season_name}"
            attributes:
              number: "{playlist1_season_index}"

    overrides:
      # Need channel_url, playlist1_url, playlist1_season_name
      playlist1_season_index: "2"

  yt_collection_p2:
    preset: "yt_collection_p1"
    generic:
      download_strategy: "collection"
      urls:
        - url: "{playlist2_url}"
          variables:
            url_season_name: "{playlist2_season_name}"
            url_season_index: "{playlist2_season_index}"
          playlist_thumbnails:
            - name: "season{playlist2_season_index}-poster.jpg"
              uid: "latest_entry"

    output_directory_nfo_tags:
      tags:
        namedseason:
          - tag: "{playlist2_season_name}"
            attributes:
              number: "{playlist2_season_index}"

    overrides:
      # Need channel_url, playlist1_url, playlist1_season_name, playlist2_url, playlist2_season_name
      playlist2_season_index: "3"
