{
  "download": [
    {
      "download_reverse": false,
      "url": "{ %array_apply(urls, %bilateral_url) }",
      "webpage_url": "{modified_webpage_url}",
      "ytdl_options": {
        "playlist_items": "-1:0:-1"
      }
    },
    {
      "include_sibling_metadata": "{include_sibling_metadata}",
      "playlist_thumbnails": [
        {
          "name": "{avatar_uncropped_thumbnail_file_name}",
          "uid": "avatar_uncropped"
        },
        {
          "name": "{banner_uncropped_thumbnail_file_name}",
          "uid": "banner_uncropped"
        }
      ],
      "source_thumbnails": [
        {
          "name": "{avatar_uncropped_thumbnail_file_name}",
          "uid": "avatar_uncropped"
        },
        {
          "name": "{banner_uncropped_thumbnail_file_name}",
          "uid": "banner_uncropped"
        }
      ],
      "url": "{ %array_at(urls, 0) }",
      "webpage_url": "{modified_webpage_url}"
    },
    {
      "include_sibling_metadata": "{include_sibling_metadata}",
      "url": "{ %array_slice(urls, 1) }",
      "webpage_url": "{modified_webpage_url}"
    }
  ],
  "format": "(bv*[ext=mp4][vcodec~='^((he|a)vc|h26[45])']+ba[ext=m4a]) / (bv[ext=mp4]*+ba[ext=m4a]/b)",
  "output_options": {
    "file_name": "{music_video_file_name}.{ext}",
    "info_json_name": "{music_video_file_name}.{info_json_ext}",
    "maintain_download_archive": true,
    "output_directory": "{music_video_directory}",
    "thumbnail_name": "{music_video_file_name}.jpg"
  },
  "overrides": {
    "%bilateral_url": "{ \n  %if(\n    %and(\n      enable_bilateral_scraping,\n      subscription_has_download_archive,\n      %is_bilateral_url($0)\n    ),\n    $0,\n    \"\"\n  )\n}",
    "%contains_url_field": "{ %not( %is_null( %get_url_field( $0, null ) ) ) }",
    "%flat_array__category_to_map_format": "{ \n  %array_apply_fixed(\n    %assert_then(\n      %is_array( $1 ),\n      $1,\n      \"If using album categories, each category must map to an array\"\n    ),\n    $0,\n    %flat_array__url_to_map_format \n  )\n}",
    "%flat_array__url_keyed_map_format": "{ { %map_get($0, \"url\"): $0 } }",
    "%flat_array__url_to_map_format": "{\n  %elif(\n    %is_map($0),\n    %map_extend( $0, { \"category\": $1 } ),\n    %is_string($0),\n    { \"url\": $0, \"category\": $1 },\n    %throw(\"If using album categories, each URL must be either a string or map with metadata fields\")\n  )\n}",
    "%get_url_field": "{ %map_get( %map( %map_get( category_url_map, ytdl_sub_input_url, {} ) ), $0, $1 ) }",
    "%get_url_i": "{ \n  %map_get(\n    %map( %array_at( category_url_array, %int( %sub($0, 1) ), {} ) ),\n    \"url\",\n    %array_at(subscription_array, %int( %sub($0, 1) ), null)\n  )\n}",
    "%is_bilateral_url": "{ %contains( $0, \"youtube.com/playlist\" ) }",
    "avatar_uncropped_thumbnail_file_name": "",
    "banner_uncropped_thumbnail_file_name": "",
    "category_url_array": "{ %array_flatten( %map_apply( subscription_map, %flat_array__category_to_map_format ) ) }",
    "category_url_map": "{\n  %array_reduce(\n    %array_apply( category_url_array, %flat_array__url_keyed_map_format ),\n    %map_extend\n  )\n}",
    "enable_bilateral_scraping": true,
    "enable_resolution_assert": true,
    "enable_throttle_protection": true,
    "file_title": "{title_sanitized_plex}",
    "file_uid": "{uid_sanitized_plex}",
    "include_sibling_metadata": false,
    "modified_webpage_url": "{webpage_url}",
    "music_video_album": "{ %get_url_field(\"category\", music_video_album_default) }",
    "music_video_album_default": "Music Videos",
    "music_video_artist": "{subscription_name}",
    "music_video_date": "{ \n  %elif(\n    %contains_url_field(\"date\"),\n    %get_url_field(\"date\", upload_date_standardized),\n\n    %contains_url_field(\"year\"),\n    %concat( %get_url_field(\"date\", upload_year), \"-01-01\"),\n\n    upload_date_standardized\n  )\n}",
    "music_video_directory": "/var/folders/rw/hl1xmkmj68zdl2kjx3l0dwzc0000gn/T/tmp3bmucwsg",
    "music_video_file_name": "{music_video_artist_sanitized}/{music_video_title_sanitized}{music_video_file_name_suffix}",
    "music_video_file_name_suffix": "",
    "music_video_genre": "{subscription_indent_1}",
    "music_video_genre_default": "ytdl-sub",
    "music_video_title": "{ %get_url_field(\"title\", title) }",
    "music_video_year": "{\n  %int(%elif(\n    %contains_url_field(\"date\"),\n    %slice( %get_url_field(\"date\", upload_date_standardized), 0, 4 ),\n\n    %contains_url_field(\"year\"),\n    %get_url_field(\"date\", upload_year),\n\n    upload_year\n  ))\n}",
    "resolution_assert": "{\n  %if(\n    %and(\n      enable_resolution_assert,\n      %ne( height, 0 ),\n      %not(resolution_assert_is_ignored)\n    ),\n    %assert(\n      %gte( height, resolution_assert_height_gte ),\n      %concat(\n        \"Entry \",\n        title,\n        \" downloaded at a low resolution (\",\n        resolution_readable,\n        \"), you've probably been throttled. \",\n        \"Stopping further downloads, wait a few hours and try again. \",\n        \"Disable using the override variable `enable_resolution_assert: False`.\"\n      )\n    ),\n    \"false is no-op\"\n  )\n}",
    "resolution_assert_height_gte": 361,
    "resolution_assert_ignore_titles": "{ [] }",
    "resolution_assert_is_ignored": "{\n  %print_if_true(\n    %concat(title, \" has a match in resolution_assert_ignore_titles, skipping resolution assert.\"),\n    %contains_any(title, resolution_assert_ignore_titles)\n  )\n}",
    "resolution_assert_print": "{\n  %print(\n    %if(\n      enable_resolution_assert,\n      \"Resolution assert is enabled, will fail on low-quality video downloads and presume throttle. Disable using the override variable `enable_resolution_assert: False`\",\n      \"Resolution assert is disabled. Use at your own risk!\"\n    ),\n    enable_resolution_assert,\n    -1\n  )\n}",
    "resolution_readable": "{width}x{height}",
    "subscription_array": "{%from_json('''[\"https://www.youtube.com/playlist?list=PLlaN88a7y2_plecYoJxvRFTLHVbIVAOoc\"]''')}",
    "subscription_indent_1": "Pop",
    "subscription_map": "{ {} }",
    "subscription_value": "https://www.youtube.com/playlist?list=PLlaN88a7y2_plecYoJxvRFTLHVbIVAOoc",
    "subscription_value_1": "https://www.youtube.com/playlist?list=PLlaN88a7y2_plecYoJxvRFTLHVbIVAOoc",
    "url": "{subscription_value}",
    "url10": "",
    "url100": "",
    "url11": "",
    "url12": "",
    "url13": "",
    "url14": "",
    "url15": "",
    "url16": "",
    "url17": "",
    "url18": "",
    "url19": "",
    "url2": "",
    "url20": "",
    "url21": "",
    "url22": "",
    "url23": "",
    "url24": "",
    "url25": "",
    "url26": "",
    "url27": "",
    "url28": "",
    "url29": "",
    "url3": "",
    "url30": "",
    "url31": "",
    "url32": "",
    "url33": "",
    "url34": "",
    "url35": "",
    "url36": "",
    "url37": "",
    "url38": "",
    "url39": "",
    "url4": "",
    "url40": "",
    "url41": "",
    "url42": "",
    "url43": "",
    "url44": "",
    "url45": "",
    "url46": "",
    "url47": "",
    "url48": "",
    "url49": "",
    "url5": "",
    "url50": "",
    "url51": "",
    "url52": "",
    "url53": "",
    "url54": "",
    "url55": "",
    "url56": "",
    "url57": "",
    "url58": "",
    "url59": "",
    "url6": "",
    "url60": "",
    "url61": "",
    "url62": "",
    "url63": "",
    "url64": "",
    "url65": "",
    "url66": "",
    "url67": "",
    "url68": "",
    "url69": "",
    "url7": "",
    "url70": "",
    "url71": "",
    "url72": "",
    "url73": "",
    "url74": "",
    "url75": "",
    "url76": "",
    "url77": "",
    "url78": "",
    "url79": "",
    "url8": "",
    "url80": "",
    "url81": "",
    "url82": "",
    "url83": "",
    "url84": "",
    "url85": "",
    "url86": "",
    "url87": "",
    "url88": "",
    "url89": "",
    "url9": "",
    "url90": "",
    "url91": "",
    "url92": "",
    "url93": "",
    "url94": "",
    "url95": "",
    "url96": "",
    "url97": "",
    "url98": "",
    "url99": "",
    "urls": "{ %array_apply(%range(100, 1), %get_url_i) }"
  },
  "preset": [
    "_base",
    "_plex_base",
    "_url_bilateral_overrides",
    "_multi_url_bilateral_inner",
    "_multi_url",
    "_multi_url_bilateral",
    "_throttle_protection",
    "_url_categorized",
    "_plex_video_base",
    "_music_video_base",
    "_music_video_tags",
    "Plex Music Videos",
    "__preset__"
  ],
  "throttle_protection": {
    "enable": "{\n  %print(\n    %if(\n      enable_throttle_protection,\n      \"Throttle protection is enabled. Disable using the override variable `enable_throttle_protection: False`\",\n      \"Throttle protection is disabled. Use at your own risk!\"\n    ),\n    enable_throttle_protection\n  )\n}",
    "sleep_per_download_s": {
      "max": 28.4,
      "min": 13.8
    },
    "sleep_per_request_s": {
      "max": 0.75,
      "min": 0.0
    },
    "sleep_per_subscription_s": {
      "max": 26.1,
      "min": 16.3
    }
  },
  "video_tags": {
    "album": "{music_video_album}",
    "artist": "{music_video_artist}",
    "genre": "{music_video_genre}",
    "premiered": "{music_video_date}",
    "title": "{music_video_title}",
    "year": "{music_video_year}"
  },
  "ytdl_options": {
    "break_on_existing": true
  }
}